#
# OpenSSL configuration file with PKCS#11 RNG Source configured.
#

HOME			= .

openssl_conf = openssl_init

config_diagnostics = 1

oid_section = new_oids

[ new_oids ]
# Standard OIDs omitted for brevity

[openssl_init]
providers = provider_sect

# List of providers to load
[provider_sect]
default = default_sect
pkcs11 = pkcs11_sect

[default_sect]
activate = 1

# ----------------------------------------------------
# PKCS#11 Provider Configuration
# ----------------------------------------------------
[pkcs11_sect]
identity = pkcs11prov
# Path to the OpenSSL PKCS#11 Provider dynamic module
module = /usr/lib/aarch64-linux-gnu/ossl-modules/pkcs11prov.so
# Path to YOUR custom PKCS#11 library - try different parameter names
#pkcs11-module-path = /usr/lib/aarch64-linux-gnu/ossl-modules/liblibtropic_pkcs11.so
#module-path = /usr/lib/aarch64-linux-gnu/ossl-modules/pkcs11.so
module-path = /home/ales/Documents/PKCS11/libtropic-pkcs11/build/liblibtropic_pkcs11.so
activate = 1

# Note: OpenSSL 3.x doesn't support redirecting the default RNG to PKCS#11 via config.
# To use PKCS#11 RNG, you need to explicitly request it via the API or use provider-specific commands.
# The PKCS#11 provider is loaded above and available for cryptographic operations.
